<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Privacy Policy</title>

    <link rel="stylesheet" href="../css/styles.css" />
    <link rel="stylesheet" href="../css/animations.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <script>
      window.__APP_ID__ = "ostinuto";
    </script>
  </head>

  <body>
    <div id="header-container"></div>

    <main>
      <section id="privacy" class="privacy">
        <h2>Privacy Policy</h2>
        <div class="privacy-content">
          <h3>Your Privacy Matters</h3>
          <p>
            <span data-appname></span> is designed with privacy at its core. No data is ever collected,
            transmitted, or stored on servers.
          </p>

          <h4>Local Storage</h4>
          <p>All data is stored locally on your device only.</p>

          <h4>No Data Collection</h4>
          <p>No usage tracking, analytics, or personal information is gathered.</p>

          <h4>Data Control</h4>
          <p>Export your entire music library or individual playlists for safekeeping. You have full control over your information.</p>

          <h4>No Third-Party Access</h4>
          <p>Data is never shared with third parties.</p>

          <!-- <p class="last-updated">Last updated: <span data-lastupdated></span></p> -->
        </div>
      </section>
    </main>

    <div id="footer-container"></div>

    <script src="../js/themes.js"></script>
    <script src="../js/theme-selector.js"></script>
    <script src="../js/components.js"></script>

    <script>
      async function fillPrivacyVars() {
        const appBase = (window.location.pathname.split("/").filter(Boolean)[0] || "").toString();
        const detailsUrl = `/${appBase}/details.json`;

        try {
          const res = await fetch(detailsUrl, { cache: "no-cache" });
          const json = res.ok ? await res.json() : {};
          const appName = (json.appName || json?.hero?.title || "App").toString();

          document.querySelectorAll("[data-appname]").forEach((el) => (el.textContent = appName));
        } catch (e) {
          document.querySelectorAll("[data-appname]").forEach((el) => (el.textContent = "App"));
        }

        document.querySelectorAll("[data-lastupdated]").forEach(
          (el) => (el.textContent = new Date().toLocaleDateString())
        );
      }

      document.addEventListener("DOMContentLoaded", async () => {
        renderAllComponents();
        if (typeof initializeTheme === "function") initializeTheme();

        await fillPrivacyVars();
      });
    </script>
  </body>
</html>